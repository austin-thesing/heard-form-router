(()=>{"use strict";var e={};const t={FORM_FIELDS:{multiOwner:"is_your_practice_a_c_corp_or_our_does_it_have_multiple_owners_",state:"state",practiceSetup:"how_is_your_business_setup__v2",income:"what_is_your_expected_annual_income_for_2024___1099__private_practice_",practiceRunning:"how_long_have_you_been_running_your_private_practice_",profession:"what_best_describes_your_practice_"},LANDING_PAGES:{FREE_TRIAL:"/thank-you/free-trial",SCHEDULER:"/thank-you/schedule",NOT_QUALIFIED:"/thank-you/success"},DISQUALIFYING_CONDITIONS:{multiOwner:["yes"],state:["international"],practiceSetup:["c corp"],income:["none","less than $20,000"],profession:["dietician","nutritionist","massage therapist","physical therapist","dietician or nutritionist","dietetics or nutrition counseling"],practiceRunning:["opening practice in 1+ month","opening in 1+ months"]},INCOME_TIERS:{QUALIFIED_INCOME:["$20,000 - $49,999","$50,000 - $99,999","more than $100,000"]},determineRoute(e){const t=(e[this.FORM_FIELDS.multiOwner]||"").toLowerCase(),o=(e[this.FORM_FIELDS.state]||"").toLowerCase(),r=(e[this.FORM_FIELDS.practiceSetup]||"").toLowerCase(),i=(e[this.FORM_FIELDS.income]||"").toLowerCase(),n=(e[this.FORM_FIELDS.practiceRunning]||"").toLowerCase(),a=(e[this.FORM_FIELDS.profession]||"").toLowerCase();return console.log("Form Router Debug:",{multiOwner:t,state:o,practiceSetup:r,income:i,practiceRunning:n,profession:a,formData:e}),this.DISQUALIFYING_CONDITIONS.multiOwner.includes(t)||this.DISQUALIFYING_CONDITIONS.state.includes(o)||this.DISQUALIFYING_CONDITIONS.practiceSetup.includes(r)||this.DISQUALIFYING_CONDITIONS.income.includes(i)||this.DISQUALIFYING_CONDITIONS.profession.some((e=>a.includes(e)))||this.DISQUALIFYING_CONDITIONS.practiceRunning.includes(n)?(console.log("Form Router: Not qualified due to DQ conditions"),"NOT_QUALIFIED"):this.INCOME_TIERS.QUALIFIED_INCOME.some((e=>i.includes(e)))?(console.log("Form Router: Qualified for scheduler"),"SCHEDULER"):(console.log("Form Router: Not qualified (default)"),"NOT_QUALIFIED")}};"undefined"!=typeof window&&(window.FormRouterConfig=t);let o=!1;function r(){if(o)return;const e=document.querySelector(".right_step_form form");e?(console.log("MS Form - Adding field tracking"),e.querySelectorAll("input, select").forEach((e=>{e.addEventListener("change",(function(e){console.log("MS Form - Field Changed:",{name:e.target.name,value:e.target.value})}))})),o=!0):setTimeout(r,500)}window.addEventListener("message",(function(e){if("hsFormCallback"===e.data.type&&("onFormReady"===e.data.eventName&&(console.log("MS Form - Form Ready"),setTimeout(r,1e3)),"onFormSubmit"===e.data.eventName)){let o;console.log("MS Form - Form Submitted");try{o=JSON.parse(localStorage.getItem("hubspot_form_data")||"{}"),console.log("MS Form - Retrieved stored form data:",o)}catch(e){console.error("MS Form - Failed to retrieve stored form data:",e),o={}}const r=e.data.data;r&&Array.isArray(r)&&r.forEach((e=>{o[e.name]=e.value}));const i=(new Date).toISOString();console.log("MS Form - Final form data:",o),0===Object.keys(o).length&&(console.error("MS Form - No form data available"),Sentry.captureMessage("MS Form: No form data available",{level:"error",tags:{type:"hubspot_submission",form:"ms_hubspot_contact"},extra:{eventData:e.data,submissionTime:i,formElement:document.querySelector(".right_step_form form")?.outerHTML}}));const n=t.determineRoute(o);console.log("MS Form - Determined route:",n),setTimeout((()=>{try{const e=t.LANDING_PAGES[n];console.log("MS Form - Redirecting to:",e),window.location.href=e}catch(e){console.error("MS Form - Redirect failed:",e),Sentry.captureException(e,{extra:{context:"MS Form redirect failed",route:n,formData:o},tags:{type:"redirect",form:"ms_hubspot_contact"}}),window.location.href=t.LANDING_PAGES.NOT_QUALIFIED}}),700)}}));var i=window;for(var n in e)i[n]=e[n];e.__esModule&&Object.defineProperty(i,"__esModule",{value:!0})})();