(()=>{var e={};const t=document.createElement("style");t.textContent="\n  .loader {\n    width: 48px;\n    height: 48px;\n    border: 5px solid #FFF;\n    border-bottom-color: #226752;\n    border-radius: 50%;\n    display: inline-block;\n    box-sizing: border-box;\n    animation: rotation 1s linear infinite;\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n  }\n\n  @keyframes rotation {\n    0% {\n      transform: translate(-50%, -50%) rotate(0deg);\n    }\n    100% {\n      transform: translate(-50%, -50%) rotate(360deg);\n    }\n  }\n\n  .form-loading {\n    min-height: 200px;\n    position: relative;\n  }\n",document.head.appendChild(t);let o=0;function n(){const e=document.querySelector(".hbspt-form form");if(!e)return console.warn("HubSpot form not found, retrying..."),void(o<50&&(o++,setTimeout(n,100)));const t=Array.from(e.querySelectorAll(".hs-form-field:not(.hs_submit):not(.hs_recaptcha):not(.hs_error_rollup)")),r=e.querySelector(".hs-richtext h3");r&&r.remove();const l=e.querySelector(".legal-consent-container"),s=e.querySelector(".hs-richtext:not(:has(h3))");s&&s.remove(),l&&l.remove(),e.querySelectorAll(".step-nav, .form-step, .form-navigation, .error-message").forEach((e=>e.remove()));const a=document.createElement("div");a.className="form-header";const c=document.createElement("div");if(c.className="step-nav",[1,2,3,4].forEach((e=>{const t=document.createElement("span");t.className=1===e?"step-number active":"step-number",t.dataset.step=(e-1).toString(),t.textContent=e.toString(),c.appendChild(t)})),a.appendChild(c),r){const e=document.createElement("div");e.className="hubspot-title-wrapper",e.appendChild(r),a.appendChild(e)}e.insertBefore(a,e.firstChild);const i=[{fields:t.slice(0,2),num:1},{fields:t.slice(2,5),num:2},{fields:t.slice(5,7),num:3},{fields:t.slice(7),num:4}].map((t=>{let{fields:o,num:n}=t;if(!o.length)return console.warn(`No fields for step ${n}`),null;const r=document.createElement("div");if(r.className=1===n?"form-step active":"form-step",r.dataset.step=n.toString(),o.forEach((e=>{e&&e.parentNode&&r.appendChild(e)})),4===n&&l){const e=document.createElement("div");e.className="consent-wrapper";const t=document.createElement("div");t.className="privacy-text",t.textContent="Heard is committed to protecting and respecting your privacy, and we'll only use your personal information to administer your account and to provide the services you requested from us. By clicking submit on the form below, you consent to allow Heard to send SMS meeting reminders as well as store and process the personal information submitted above to provide you with the content requested.",e.appendChild(t),l&&e.appendChild(l),r.appendChild(e)}const s=e.querySelector(".hs_submit");return e.insertBefore(r,s),r}));if(i.some((e=>!e)))return void console.error("Failed to create all form steps");const d=document.createElement("div");d.className="form-navigation",d.innerHTML='\n    <button type="button" class="previous button-secondary">Previous</button>\n    <button type="button" class="next button-primary">Next</button>\n    <button type="submit" class="submit button-primary">Submit</button>\n  ';const u=document.createElement("div");u.className="error-message",u.style.display="none",u.textContent="Please fill out all required fields.",e.appendChild(d),e.appendChild(u);let m=0;const p=document.querySelectorAll(".step-nav .step-number");function f(e){document.querySelectorAll(".form-step").forEach(((t,o)=>{t.classList.toggle("active",o===e)})),p.forEach(((t,o)=>{t.classList.toggle("active",o<=e)})),function(e){const t=document.querySelector(".previous"),o=document.querySelector(".next"),n=document.querySelector(".submit");t.style.display=0===e?"none":"block",o.style.display=e===i.length-1?"none":"block",n.style.display=e===i.length-1?"block":"none"}(e)}function y(e){const t=i[e];let o=!0;return t.querySelectorAll("select").forEach((e=>{e.closest("[required]")&&!e.value&&(o=!1)})),t.querySelectorAll("input").forEach((e=>{e.closest("[required]")&&!e.value&&(o=!1),e.getAttribute("data-gtm-form-interact-field-id")&&(o=!0)})),t.querySelectorAll("ul.multi-container").forEach((e=>{e.querySelector('input[type="radio"]:checked')||(o=!1)})),o}function h(e){u.style.display=e?"block":"none"}document.querySelector(".next").addEventListener("click",(()=>{y(m)?(h(!1),m<i.length-1&&(m++,f(m))):h(!0)})),document.querySelector(".previous").addEventListener("click",(()=>{m>0&&(m--,f(m))})),e.addEventListener("submit",(function(t){if(!y(m))return t.preventDefault(),void h(!0);const o={};e.querySelectorAll("input, select").forEach((e=>{e.name&&("radio"===e.type?e.checked&&(o[e.name]=e.value):o[e.name]=e.value)}));try{localStorage.setItem("hubspot_form_data",JSON.stringify(o)),console.log("MS Form - Stored form data in localStorage")}catch(e){console.error("MS Form - Storage failed:",e)}})),f(m);const b=document.querySelector(".hbspt-form");b&&(b.style.display="block");const v=localStorage.getItem("my_email"),g=document.querySelector('input[type="email"]');g&&v&&(g.value=v)}function r(){const e=document.querySelector(".hbspt-form"),t=document.querySelector(".right_step_form");if(t&&!t.querySelector(".loader")){t.classList.add("form-loading");const o=document.createElement("span");o.className="loader",t.appendChild(o),e&&(e.style.display="none")}if(!e||!e.querySelector("form")){if(o++,o<50)return void requestAnimationFrame(r);if(console.warn("HubSpot form not found or not fully loaded after maximum retries"),t){t.classList.remove("form-loading");const e=t.querySelector(".loader");e&&e.remove()}return}o=0,n();const l=t?.querySelector(".loader");l&&(l.remove(),t.classList.remove("form-loading")),e&&(e.style.display="block");const s=document.querySelectorAll(".form-step .input select");s.length&&s.forEach((e=>{e&&e.parentElement&&(function(e){const t=document.createElement("div");t.className="image-container";const o=document.createElement("img");o.className="select-image",o.src="https://uploads-ssl.webflow.com/6661826b05a68c92d1e4be41/667dd1273be99e0d3b8c9cde_%5E.svg",o.alt="Image",t.appendChild(o),e.appendChild(t)}(e.parentElement),e.addEventListener("change",(t=>{const o=e.parentElement.querySelector(".select-image");if(!o)return;const n=t.target.value;o.src="default"===n||""===n?"https://uploads-ssl.webflow.com/6661826b05a68c92d1e4be41/667dd1273be99e0d3b8c9cde_%5E.svg":"https://uploads-ssl.webflow.com/6661826b05a68c92d1e4be41/667dd131c9a0a6e9c7f805c3_Vector%202533.svg"})))}))}document.addEventListener("DOMContentLoaded",(()=>{r()})),window.initializeMultiStepFormOnReady=function(){console.log("MS Form - HubSpot form ready callback received"),r()};var l=window;for(var s in e)l[s]=e[s];e.__esModule&&Object.defineProperty(l,"__esModule",{value:!0})})();