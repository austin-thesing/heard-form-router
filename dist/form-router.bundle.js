(()=>{"use strict";var e={};const o={FORM_FIELDS:{multiOwner:"is_your_practice_a_c_corp_or_our_does_it_have_multiple_owners_",state:"state",practiceSetup:"how_is_your_business_setup__v2",income:"what_is_your_expected_annual_income_for_2024___1099__private_practice_",practiceRunning:"how_long_have_you_been_running_your_private_practice_",profession:"what_best_describes_your_practice_"},LANDING_PAGES:{FREE_TRIAL:"/thank-you/free-trial",SCHEDULER:"/thank-you/schedule",NOT_QUALIFIED:"/thank-you/success"},DISQUALIFYING_CONDITIONS:{multiOwner:["yes"],state:["international"],practiceSetup:["c corp"],income:["none","less than $20,000"],profession:["dietician","nutritionist","massage therapist","physical therapist","dietician or nutritionist","dietetics or nutrition counseling"],practiceRunning:["opening practice in 1+ month","opening in 1+ months"]},INCOME_TIERS:{QUALIFIED_INCOME:["$20,000 - $49,999","$50,000 - $99,999","more than $100,000"]},determineRoute(e){const o=(e[this.FORM_FIELDS.multiOwner]||"").toLowerCase(),t=(e[this.FORM_FIELDS.state]||"").toLowerCase(),r=(e[this.FORM_FIELDS.practiceSetup]||"").toLowerCase(),n=(e[this.FORM_FIELDS.income]||"").toLowerCase(),i=(e[this.FORM_FIELDS.practiceRunning]||"").toLowerCase(),s=(e[this.FORM_FIELDS.profession]||"").toLowerCase();return console.log("Form Router Debug:",{multiOwner:o,state:t,practiceSetup:r,income:n,practiceRunning:i,profession:s,formData:e}),this.DISQUALIFYING_CONDITIONS.multiOwner.includes(o)||this.DISQUALIFYING_CONDITIONS.state.includes(t)||this.DISQUALIFYING_CONDITIONS.practiceSetup.includes(r)||this.DISQUALIFYING_CONDITIONS.income.includes(n)||this.DISQUALIFYING_CONDITIONS.profession.some((e=>s.includes(e)))||this.DISQUALIFYING_CONDITIONS.practiceRunning.includes(i)?(console.log("Form Router: Not qualified due to DQ conditions"),"NOT_QUALIFIED"):this.INCOME_TIERS.QUALIFIED_INCOME.some((e=>n.includes(e)))?(console.log("Form Router: Qualified for scheduler"),"SCHEDULER"):(console.log("Form Router: Not qualified (default)"),"NOT_QUALIFIED")}};function t(){window.hbspt.forms.create({region:"na1",portalId:"7507639",formId:"0d9c387a-9c8b-40c4-8d46-3135f754f077",target:"#hubspot-form-container",onFormReady:function(e){console.log("Form Ready - Config loaded:",!!o),e.querySelectorAll("input, select, textarea").forEach((e=>{e.addEventListener("change",(function(){console.log("Field Changed:",{name:this.name,value:this.value})}))}))},onFormSubmit:function(e){if(!o)return console.error("FormRouterConfig not found - ensure form-config.js is loaded"),!1;console.log("Form Submit - Starting submission process");const t=new FormData(e),r={};t.forEach(((e,o)=>{r[o]=e}));try{localStorage.setItem("hubspot_form_data",JSON.stringify(r)),console.log("Form Submit - Stored form data:",r)}catch(e){console.error("Form Submit - Storage failed:",e),Sentry.captureException(e,{extra:{context:"Form submission storage failed",formData:r},tags:{type:"local_storage",form:"hubspot_contact"}})}return!0},onFormSubmitted:function(e){return o?(console.log("Form Submitted - Processing submission"),function(){try{const e=JSON.parse(localStorage.getItem("hubspot_form_data")||"{}");console.log("Redirect Debug - Form Data:",e);const t=function(e){return(e[o.FORM_FIELDS.multiOwner]||"").toLowerCase(),(e[o.FORM_FIELDS.state]||"").toLowerCase(),(e[o.FORM_FIELDS.practiceSetup]||"").toLowerCase(),(e[o.FORM_FIELDS.income]||"").toLowerCase(),(e[o.FORM_FIELDS.practiceRunning]||"").toLowerCase(),(e[o.FORM_FIELDS.profession]||"").toLowerCase(),o.determineRoute(e)}(e);console.log("Redirect Debug - Determined Route:",t);const r=o.LANDING_PAGES[t]||o.LANDING_PAGES.NOT_QUALIFIED;if(console.log("Redirect Debug - Final URL:",r),!o)return void console.error("FormRouterConfig not found - form-config.js may not be loaded");setTimeout((()=>{console.log("Redirect Debug - Executing redirect to:",r),window.location.href=r}),700)}catch(e){console.error("Redirect Debug - Error:",e),Sentry.captureException(e,{extra:{context:"Post-submission redirect failed"},tags:{type:"redirect",form:"hubspot_contact"}}),window.location.href=o.LANDING_PAGES.NOT_QUALIFIED}}(),!1):(console.error("FormRouterConfig not found during submission - ensure form-config.js is loaded"),!1)},onFormSubmitError:function(e,o){Sentry.captureException(o,{extra:{context:"HubSpot form submission error",formData:Object.fromEntries(new FormData(e))},tags:{type:"hubspot_submission_error",form:"hubspot_contact"}})}})}"undefined"!=typeof window&&(window.FormRouterConfig=o),window.hbspt?t():window.addEventListener("load",(function(){window.hbspt&&t()}));var r=window;for(var n in e)r[n]=e[n];e.__esModule&&Object.defineProperty(r,"__esModule",{value:!0})})();